{"abi":[{"type":"constructor","inputs":[{"name":"_token","type":"address","internalType":"contract IPUSH"},{"name":"_delegatee","type":"address","internalType":"address"}],"stateMutability":"nonpayable"}],"bytecode":{"object":"0x608060405234801561001057600080fd5b506040516101d13803806101d183398101604081905261002f91610121565b6040516317066a5760e21b81526001600160a01b038281166004830152831690635c19a95c90602401600060405180830381600087803b15801561007257600080fd5b505af1158015610086573d6000803e3d6000fd5b505060405163095ea7b360e01b81523360048201526001600160601b0360248201526001600160a01b038516925063095ea7b391506044016020604051808303816000875af11580156100dd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610101919061015b565b505050610184565b6001600160a01b038116811461011e57600080fd5b50565b6000806040838503121561013457600080fd5b825161013f81610109565b602084015190925061015081610109565b809150509250929050565b60006020828403121561016d57600080fd5b8151801515811461017d57600080fd5b9392505050565b603f806101926000396000f3fe6080604052600080fdfea26469706673582212203d6392eff0c9297a88e9eeb98175fee698f5a3997fe62a547129af5dfc6f5c4764736f6c63430008140033","sourceMap":"1119:464:20:-:0;;;1443:137;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1496:27;;-1:-1:-1;;;1496:27:20;;-1:-1:-1;;;;;740:32:114;;;1496:27:20;;;722:51:114;1496:15:20;;;;;695:18:114;;1496:27:20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;1530:44:20;;-1:-1:-1;;;1530:44:20;;1545:10;1530:44;;;957:51:114;-1:-1:-1;;;;;1024:18:114;;;1017:59;-1:-1:-1;;;;;1530:14:20;;;-1:-1:-1;1530:14:20;;-1:-1:-1;930:18:114;;1530:44:20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;1443:137;;1119:464;;14:138:114;-1:-1:-1;;;;;96:31:114;;86:42;;76:70;;142:1;139;132:12;76:70;14:138;:::o;157:414::-;251:6;259;312:2;300:9;291:7;287:23;283:32;280:52;;;328:1;325;318:12;280:52;360:9;354:16;379:38;411:5;379:38;:::i;:::-;486:2;471:18;;465:25;436:5;;-1:-1:-1;499:40:114;465:25;499:40;:::i;:::-;558:7;548:17;;;157:414;;;;;:::o;1087:277::-;1154:6;1207:2;1195:9;1186:7;1182:23;1178:32;1175:52;;;1223:1;1220;1213:12;1175:52;1255:9;1249:16;1308:5;1301:13;1294:21;1287:5;1284:32;1274:60;;1330:1;1327;1320:12;1274:60;1353:5;1087:277;-1:-1:-1;;;1087:277:114:o;:::-;1119:464:20;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x6080604052600080fdfea26469706673582212203d6392eff0c9297a88e9eeb98175fee698f5a3997fe62a547129af5dfc6f5c4764736f6c63430008140033","sourceMap":"1119:464:20:-:0;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"contract IPUSH\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_delegatee\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}],\"devdoc\":{\"author\":\"Inspired by Scopelif's DelegationSurrogate contract\",\"kind\":\"dev\",\"methods\":{\"constructor\":{\"params\":{\"_delegatee\":\"The address of the would-be voter to which this surrogate will delegate its voting weight. 100% of all voting tokens held by this surrogate will be delegated to this address.\",\"_token\":\"The governance token that will be held by this surrogate\"}}},\"title\":\"PushVoteDelegator\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"A dead-simple contract whose only purpose is to hold governance tokens on behalf of users while delegating voting power to one specific delegatee. This is needed because a single address can only delegate its (full) token weight to a single address at a time. Thus, when a contract holds governance tokens in a pool on behalf of disparate token holders, those holders are typically disenfranchised from their governance rights. If a pool contract deploys a DelegationSurrogate for each delegatee, and transfers each depositor's tokens to the appropriate  surrogate\\u2014or deploys it on their behalf\\u2014users can retain their governance rights. The pool contract deploying the surrogates must handle all accounting. The surrogate simply delegates its voting weight and max-approves its deployer to allow tokens to be reclaimed.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/PushStaking/PushVoteDelegator.sol\":\"PushVoteDelegator\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":99999},\"remappings\":[\":@ensdomains/=node_modules/@ensdomains/\",\":@ethereum-waffle/=node_modules/@ethereum-waffle/\",\":@openzeppelin/=node_modules/@openzeppelin/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":eth-gas-reporter/=node_modules/eth-gas-reporter/\",\":forge-std/=lib/forge-std/src/\",\":hardhat/=node_modules/hardhat/\",\":solidity-bytes-utils/=node_modules/solidity-bytes-utils/\"]},\"sources\":{\"contracts/PushStaking/PushVoteDelegator.sol\":{\"keccak256\":\"0x005fc161547d1ce2a2055cccfcd3132734df794b433b45f20c9b622f63ec6acd\",\"license\":\"SEE LICENSE IN LICENSE\",\"urls\":[\"bzz-raw://24fc692688aed2f8460463a12817470eac4c0fcab1cf2178daa6c5617654987f\",\"dweb:/ipfs/QmXkTquLUsxoAtczaf33P82xVpstFyuMfck7HE8jZQMiN4\"]},\"contracts/interfaces/IPUSH.sol\":{\"keccak256\":\"0xf659e178af29409a7ba4a23bbc21b4ea7830f68a94a78f3dc61f5c3014ea89a7\",\"urls\":[\"bzz-raw://ad9e91580ad48f1804c7b17bc72128baaf4d3bc3d101f7ee78d279fc745a00d0\",\"dweb:/ipfs/QmVGy8JZpc96xTy3ePxn5nQKXNdqB8dCWDdQKhctNW1KNW\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"contract IPUSH","name":"_token","type":"address"},{"internalType":"address","name":"_delegatee","type":"address"}],"stateMutability":"nonpayable","type":"constructor"}],"devdoc":{"kind":"dev","methods":{"constructor":{"params":{"_delegatee":"The address of the would-be voter to which this surrogate will delegate its voting weight. 100% of all voting tokens held by this surrogate will be delegated to this address.","_token":"The governance token that will be held by this surrogate"}}},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@ensdomains/=node_modules/@ensdomains/","@ethereum-waffle/=node_modules/@ethereum-waffle/","@openzeppelin/=node_modules/@openzeppelin/","ds-test/=lib/forge-std/lib/ds-test/src/","eth-gas-reporter/=node_modules/eth-gas-reporter/","forge-std/=lib/forge-std/src/","hardhat/=node_modules/hardhat/","solidity-bytes-utils/=node_modules/solidity-bytes-utils/"],"optimizer":{"enabled":true,"runs":99999},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/PushStaking/PushVoteDelegator.sol":"PushVoteDelegator"},"libraries":{}},"sources":{"contracts/PushStaking/PushVoteDelegator.sol":{"keccak256":"0x005fc161547d1ce2a2055cccfcd3132734df794b433b45f20c9b622f63ec6acd","urls":["bzz-raw://24fc692688aed2f8460463a12817470eac4c0fcab1cf2178daa6c5617654987f","dweb:/ipfs/QmXkTquLUsxoAtczaf33P82xVpstFyuMfck7HE8jZQMiN4"],"license":"SEE LICENSE IN LICENSE"},"contracts/interfaces/IPUSH.sol":{"keccak256":"0xf659e178af29409a7ba4a23bbc21b4ea7830f68a94a78f3dc61f5c3014ea89a7","urls":["bzz-raw://ad9e91580ad48f1804c7b17bc72128baaf4d3bc3d101f7ee78d279fc745a00d0","dweb:/ipfs/QmVGy8JZpc96xTy3ePxn5nQKXNdqB8dCWDdQKhctNW1KNW"],"license":null}},"version":1},"ast":{"absolutePath":"contracts/PushStaking/PushVoteDelegator.sol","id":10962,"exportedSymbols":{"IPUSH":[11055],"PushVoteDelegator":[10961]},"nodeType":"SourceUnit","src":"52:1533:20","nodes":[{"id":10929,"nodeType":"PragmaDirective","src":"52:24:20","nodes":[],"literals":["solidity","^","0.8",".20"]},{"id":10931,"nodeType":"ImportDirective","src":"80:48:20","nodes":[],"absolutePath":"contracts/interfaces/IPUSH.sol","file":"../interfaces/IPUSH.sol","nameLocation":"-1:-1:-1","scope":10962,"sourceUnit":11056,"symbolAliases":[{"foreign":{"id":10930,"name":"IPUSH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11055,"src":"89:5:20","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":10961,"nodeType":"ContractDefinition","src":"1119:464:20","nodes":[{"id":10960,"nodeType":"FunctionDefinition","src":"1443:137:20","nodes":[],"body":{"id":10959,"nodeType":"Block","src":"1489:91:20","nodes":[],"statements":[{"expression":{"arguments":[{"id":10944,"name":"_delegatee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10938,"src":"1512:10:20","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":10941,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10936,"src":"1496:6:20","typeDescriptions":{"typeIdentifier":"t_contract$_IPUSH_$11055","typeString":"contract IPUSH"}},"id":10943,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1503:8:20","memberName":"delegate","nodeType":"MemberAccess","referencedDeclaration":11054,"src":"1496:15:20","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$returns$__$","typeString":"function (address) external"}},"id":10945,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1496:27:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":10946,"nodeType":"ExpressionStatement","src":"1496:27:20"},{"expression":{"arguments":[{"expression":{"id":10950,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"1545:3:20","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":10951,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1549:6:20","memberName":"sender","nodeType":"MemberAccess","src":"1545:10:20","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"arguments":[{"id":10954,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1562:6:20","typeDescriptions":{"typeIdentifier":"t_type$_t_uint96_$","typeString":"type(uint96)"},"typeName":{"id":10953,"name":"uint96","nodeType":"ElementaryTypeName","src":"1562:6:20","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint96_$","typeString":"type(uint96)"}],"id":10952,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"1557:4:20","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":10955,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1557:12:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint96","typeString":"type(uint96)"}},"id":10956,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1570:3:20","memberName":"max","nodeType":"MemberAccess","src":"1557:16:20","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint96","typeString":"uint96"}],"expression":{"id":10947,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10936,"src":"1530:6:20","typeDescriptions":{"typeIdentifier":"t_contract$_IPUSH_$11055","typeString":"contract IPUSH"}},"id":10949,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1537:7:20","memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":11003,"src":"1530:14:20","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":10957,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1530:44:20","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":10958,"nodeType":"ExpressionStatement","src":"1530:44:20"}]},"documentation":{"id":10933,"nodeType":"StructuredDocumentation","src":"1151:288:20","text":"@param _token The governance token that will be held by this surrogate\n @param _delegatee The address of the would-be voter to which this surrogate will delegate its\n voting weight. 100% of all voting tokens held by this surrogate will be delegated to this\n address."},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":10939,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10936,"mutability":"mutable","name":"_token","nameLocation":"1461:6:20","nodeType":"VariableDeclaration","scope":10960,"src":"1455:12:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IPUSH_$11055","typeString":"contract IPUSH"},"typeName":{"id":10935,"nodeType":"UserDefinedTypeName","pathNode":{"id":10934,"name":"IPUSH","nameLocations":["1455:5:20"],"nodeType":"IdentifierPath","referencedDeclaration":11055,"src":"1455:5:20"},"referencedDeclaration":11055,"src":"1455:5:20","typeDescriptions":{"typeIdentifier":"t_contract$_IPUSH_$11055","typeString":"contract IPUSH"}},"visibility":"internal"},{"constant":false,"id":10938,"mutability":"mutable","name":"_delegatee","nameLocation":"1477:10:20","nodeType":"VariableDeclaration","scope":10960,"src":"1469:18:20","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":10937,"name":"address","nodeType":"ElementaryTypeName","src":"1469:7:20","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1454:34:20"},"returnParameters":{"id":10940,"nodeType":"ParameterList","parameters":[],"src":"1489:0:20"},"scope":10961,"stateMutability":"nonpayable","virtual":false,"visibility":"public"}],"abstract":false,"baseContracts":[],"canonicalName":"PushVoteDelegator","contractDependencies":[],"contractKind":"contract","documentation":{"id":10932,"nodeType":"StructuredDocumentation","src":"132:987:20","text":"@title PushVoteDelegator\n @author Inspired by Scopelif's DelegationSurrogate contract\n @notice A dead-simple contract whose only purpose is to hold governance tokens on behalf of\n users while delegating voting power to one specific delegatee. This is needed because a single\n address can only delegate its (full) token weight to a single address at a time. Thus, when a\n contract holds governance tokens in a pool on behalf of disparate token holders, those holders\n are typically disenfranchised from their governance rights.\n If a pool contract deploys a DelegationSurrogate for each delegatee, and transfers each\n depositor's tokens to the appropriate  surrogate—or deploys it on their behalf—users can retain\n their governance rights.\n The pool contract deploying the surrogates must handle all accounting. The surrogate simply\n delegates its voting weight and max-approves its deployer to allow tokens to be reclaimed."},"fullyImplemented":true,"linearizedBaseContracts":[10961],"name":"PushVoteDelegator","nameLocation":"1128:17:20","scope":10962,"usedErrors":[],"usedEvents":[]}],"license":"SEE LICENSE IN LICENSE"},"id":20}